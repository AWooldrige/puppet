{
    "AWSTemplateFormatVersion": "2010-09-09",
    "Description": "AWS Infrastructure for Public Facing Sites",
    "Parameters" : { },
    "Resources": {
        "wooliecoukDNS": {
            "Type": "AWS::Route53::RecordSetGroup",
            "Properties": {
                "HostedZoneName": "woolie.co.uk.",
                "RecordSets": [
                    {
                        "Name": "woolie.co.uk.",
                        "Type": "A",
                        "AliasTarget": {
                            "DNSName": { "Fn::GetAtt": [
                                "WoolieCoUkCloudFrontCDN",
                                "DomainName"
                            ]},
                            "HostedZoneId": "Z2FDTNDATAQYW2"
                        }
                    },
                    {
                        "Name": "www.woolie.co.uk.",
                        "Type": "A",
                        "AliasTarget": {
                            "DNSName": { "Fn::GetAtt": [
                                "WwwWoolieCoUkCloudFrontCDN",
                                "DomainName"
                            ]},
                            "HostedZoneId": "Z2FDTNDATAQYW2"
                        }
                    },
                    {
                        "Name": "cg.woolie.co.uk.",
                        "Type": "CNAME",
                        "TTL": "3600",
                        "ResourceRecords": [ "cg.wooldrige.co.uk" ]
                    },
                    {
                        "Name": "woolie.co.uk.",
                        "Type": "MX",
                        "TTL": "86400",
                        "ResourceRecords": [
                            "10 ASPMX.L.GOOGLE.COM.",
                            "20 ALT1.ASPMX.L.GOOGLE.COM.",
                            "20 ALT2.ASPMX.L.GOOGLE.COM.",
                            "30 ASPMX2.GOOGLEMAIL.COM.",
                            "30 ASPMX3.GOOGLEMAIL.COM.",
                            "30 ASPMX4.GOOGLEMAIL.COM.",
                            "30 ASPMX5.GOOGLEMAIL.COM."
                        ]
                    },
                    {
                        "Name": "google._domainkey.woolie.co.uk.",
                        "Type": "TXT",
                        "TTL": "86400",
                        "ResourceRecords": [ "\"v=DKIM1; k=rsa; p=MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQCD9iFbc2P35/Uay6FSHGs7hFM0je8NnpjyrAnpJDMnRKFA+5ISUrv9C3IwAQliRUMlzWkwMmFE773i7E3g3/mcyuRZCBTOLJ0WBtSZoqEWyCFG/y8RXIi+Tf0d/qBDzBE+zB8Rjl3XggEwSk7AsKz8YrodzpMI38l0EWlyOFd0tQIDAQAB\"" ]
                    },
                    {
                        "Name": "mail.woolie.co.uk.",
                        "Type": "CNAME",
                        "TTL": "86400",
                        "ResourceRecords": [ "ghs.google.com" ]
                    },
                    {
                        "Name": "docs.woolie.co.uk.",
                        "Type": "CNAME",
                        "TTL": "86400",
                        "ResourceRecords": [ "ghs.google.com" ]
                    },
                    {
                        "Name": "calendar.woolie.co.uk.",
                        "Type": "CNAME",
                        "TTL": "86400",
                        "ResourceRecords": [ "ghs.google.com" ]
                    },
                    {
                        "Name": "_6890b44703dfb25f9a7c85924dacc0c0.woolie.co.uk.",
                        "Type": "CNAME",
                        "TTL": "300",
                        "ResourceRecords": [ "_e804161c9c96c72d37fde708e5f9e457.hkvuiqjoua.acm-validations.aws." ]
                    },
                    {
                        "Name": "_6fd081d5a91665e96a3bf4e80195193e.www.woolie.co.uk.",
                        "Type": "CNAME",
                        "TTL": "300",
                        "ResourceRecords": [ "_266bff546b5c58cc45a8452540392f62.hkvuiqjoua.acm-validations.aws." ]
                    }
                ]
            }
        },
        "onmyplatecoukDNS": {
            "Type": "AWS::Route53::RecordSetGroup",
            "Properties": {
                "HostedZoneName": "onmyplate.co.uk.",
                "RecordSets": [
                    {
                        "Name": "onmyplate.co.uk.",
                        "Type": "MX",
                        "TTL": "86400",
                        "ResourceRecords": [
                            "10 ASPMX.L.GOOGLE.COM.",
                            "20 ALT1.ASPMX.L.GOOGLE.COM.",
                            "20 ALT2.ASPMX.L.GOOGLE.COM.",
                            "30 ASPMX2.GOOGLEMAIL.COM.",
                            "30 ASPMX3.GOOGLEMAIL.COM.",
                            "30 ASPMX4.GOOGLEMAIL.COM.",
                            "30 ASPMX5.GOOGLEMAIL.COM."
                        ]
                    },
                    {
                        "Name": "google._domainkey.onmyplate.co.uk.",
                        "Type": "TXT",
                        "TTL": "86400",
                        "ResourceRecords": [ "\"v=DKIM1; k=rsa; p=MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDMacew9nMsqyDqfiHyyViASAbAvPix7l+SCMrRnSSDrG6WRMT54btieUmK9tzOi39U8LMi/l29IwJOy908KY+ydkNK2n7AP0I1AJExsdzU/g92L+WMAPEI0UOep+v6i+Plv1zjFLejo0OKy5JHdk3A9PQaOLyOjpxKAN/mNhcMnQIDAQAB\"" ]
                    },
                    {
                        "Name": "CI4ZOCDZDOYT.onmyplate.co.uk.",
                        "Type": "CNAME",
                        "TTL": "1209600",
                        "ResourceRecords": [ "gv-SBHCIDQ6WSTITK.dv.googlehosted.com." ]
                    },
                    {
                        "Name": "_7e5d86009dbd94e07aa5ef6377050335.onmyplate.co.uk.",
                        "Type": "CNAME",
                        "TTL": "300",
                        "ResourceRecords": [ "_b97c01b666ba19d308b65f719b4a6e62.hkvuiqjoua.acm-validations.aws." ]
                    },
                    {
                        "Name": "_5f4a213b8498f84376cf4799056f0b2c.www.onmyplate.co.uk.",
                        "Type": "CNAME",
                        "TTL": "300",
                        "ResourceRecords": [ "_98663272d14ad71051d032422a847aa0.hkvuiqjoua.acm-validations.aws." ]
                    }
                ]
            }
        },
        "wooldrigecoukDNS": {
            "Type": "AWS::Route53::RecordSetGroup",
            "Properties": {
                "HostedZoneName": "wooldrige.co.uk.",
                "RecordSets": [
                    {
                        "Name": "wooldrige.co.uk.",
                        "Type": "MX",
                        "TTL": "86400",
                        "ResourceRecords": [
                            "10 ASPMX.L.GOOGLE.COM.",
                            "20 ALT1.ASPMX.L.GOOGLE.COM.",
                            "20 ALT2.ASPMX.L.GOOGLE.COM.",
                            "30 ASPMX2.GOOGLEMAIL.COM.",
                            "30 ASPMX3.GOOGLEMAIL.COM.",
                            "30 ASPMX4.GOOGLEMAIL.COM.",
                            "30 ASPMX5.GOOGLEMAIL.COM."
                        ]
                    },
                    {
                        "Name": "wooldrige.co.uk.",
                        "Type": "A",
                        "AliasTarget": {
                            "DNSName": { "Fn::GetAtt": [
                                "WooldrigeCoUkCloudFrontCDN",
                                "DomainName"
                            ]},
                            "HostedZoneId": "Z2FDTNDATAQYW2"
                        }
                    },
                    {
                        "Name": "www.wooldrige.co.uk.",
                        "Type": "A",
                        "AliasTarget": {
                            "DNSName": { "Fn::GetAtt": [
                                "WwwWooldrigeCoUkCloudFrontCDN",
                                "DomainName"
                            ]},
                            "HostedZoneId": "Z2FDTNDATAQYW2"
                        }
                    },
                    {
                        "Name": "google._domainkey.wooldrige.co.uk.",
                        "Type": "TXT",
                        "TTL": "86400",
                        "ResourceRecords": [ "\"v=DKIM1; k=rsa; p=MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDEgZWLAgAXgZZIkAC4Na4xU3UmFkuIvj3a4AHW3K45vN3BeiBQ5mYC5g/KcrXZhDsaWzp9qgi9chtT3CV/E4ZA8SDeJxmyVCu8PWxXBTc9akFah3lp3mgtLZY+sMrfGlMTdHFzJ1I7FlttFeCAMUXm2ZsQyoXqaIS9Ojjy1ddikQIDAQAB\"" ]
                    },
                    {
                        "Name": "_7ed1703fdaa9c6334e5b106750e9bdb9.wooldrige.co.uk.",
                        "Type": "CNAME",
                        "TTL": "300",
                        "ResourceRecords": [ "_664e534f42e84c801b012c47baa1d539.hkvuiqjoua.acm-validations.aws." ]
                    },
                    {
                        "Name": "_ba782779eb4245f59f3efd2ec879c6c2.www.wooldrige.co.uk.",
                        "Type": "CNAME",
                        "TTL": "300",
                        "ResourceRecords": [ "_9f2941a51f8e1cab8a3651aab4ae6832.hkvuiqjoua.acm-validations.aws." ]
                    }
                ]
            }
        },
        "kempstonnurseriescoukDNS": {
            "Type": "AWS::Route53::RecordSetGroup",
            "Properties": {
                "HostedZoneName": "kempstonnurseries.co.uk.",
                "RecordSets": [
                    {
                        "Name": "kempstonnurseries.co.uk.",
                        "Type": "A",
                        "AliasTarget": {
                            "DNSName": { "Fn::GetAtt": [
                                "KempstonnurseriesCoUkCloudFrontCDN",
                                "DomainName"
                            ]},
                            "HostedZoneId": "Z2FDTNDATAQYW2"
                        }
                    },
                    {
                        "Name": "www.kempstonnurseries.co.uk.",
                        "Type": "A",
                        "AliasTarget": {
                            "DNSName": { "Fn::GetAtt": [
                                "WwwKempstonnurseriesCoUkCloudFrontCDN",
                                "DomainName"
                            ]},
                            "HostedZoneId": "Z2FDTNDATAQYW2"
                        }
                    },
                    {
                        "Name": "ZQJYDD6YQE2G.kempstonnurseries.co.uk.",
                        "Type": "CNAME",
                        "TTL": "1209600",
                        "ResourceRecords": [ "gv-KHYQWCRKN2VBQN.dv.googlehosted.com." ]
                    },
                    {
                        "Name": "_a87daaa3fc6deb4f13a3f767685c58f8.kempstonnurseries.co.uk.",
                        "Type": "CNAME",
                        "TTL": "300",
                        "ResourceRecords": [ "_3006821cccf83e1a8d2f645a80321d41.hkvuiqjoua.acm-validations.aws." ]
                    },
                    {
                        "Name": "_5f706c7c437e292348dd0dfc3dc96749.www.kempstonnurseries.co.uk.",
                        "Type": "CNAME",
                        "TTL": "300",
                        "ResourceRecords": [ "_c4ccdbf0b806a5ad6c9c5f01e819e53f.hkvuiqjoua.acm-validations.aws." ]
                    }
                ]
            }
        },
        "brignellbookbindersDNS": {
            "Type": "AWS::Route53::RecordSetGroup",
            "Properties": {
                "HostedZoneName": "brignellbookbinders.com.",
                "RecordSets": [
                    {
                        "Name": "mail.brignellbookbinders.com.",
                        "Type": "CNAME",
                        "TTL": "86400",
                        "ResourceRecords": [ "ghs.google.com" ]
                    },
                    {
                        "Name": "docs.brignellbookbinders.com.",
                        "Type": "CNAME",
                        "TTL": "86400",
                        "ResourceRecords": [ "ghs.google.com" ]
                    },
                    {
                        "Name": "calendar.brignellbookbinders.com.",
                        "Type": "CNAME",
                        "TTL": "86400",
                        "ResourceRecords": [ "ghs.google.com" ]
                    },
                    {
                        "Name": "brignellbookbinders.com.",
                        "Type": "MX",
                        "TTL": "86400",
                        "ResourceRecords": [
                            "10 ASPMX.L.GOOGLE.COM.",
                            "20 ALT1.ASPMX.L.GOOGLE.COM.",
                            "20 ALT2.ASPMX.L.GOOGLE.COM.",
                            "30 ASPMX2.GOOGLEMAIL.COM.",
                            "30 ASPMX3.GOOGLEMAIL.COM.",
                            "30 ASPMX4.GOOGLEMAIL.COM.",
                            "30 ASPMX5.GOOGLEMAIL.COM."
                        ]
                    },
                    {
                        "Name": "_9025736d62de242aba2cd978ca63e1e6.brignellbookbinders.com.",
                        "Type": "CNAME",
                        "TTL": "300",
                        "ResourceRecords": [ "_87634a28d025b3df3ec714a67f0eb096.hkvuiqjoua.acm-validations.aws." ]
                    },
                    {
                        "Name": "_4c01cf53a050542ed7b7adb841cf7a51.www.brignellbookbinders.com.",
                        "Type": "CNAME",
                        "TTL": "300",
                        "ResourceRecords": [ "_7bc553845e84284d892677bca0188698.hkvuiqjoua.acm-validations.aws." ]
                    }
                ]
            }
        },
        "IAMUserWoolie": {
            "Type": "AWS::IAM::User",
            "Properties": {
                "Groups": [
                    { "Ref": "IAMGroupFullAdmin" }
                ]
            }
        },
        "IAMGroupFullAdmin": {
            "Type": "AWS::IAM::Group",
            "Properties": {
                "ManagedPolicyArns": [
                    "arn:aws:iam::aws:policy/AdministratorAccess"
                ]
            }
        },
        "IAMUserRaspberryPi": {
            "Type": "AWS::IAM::User",
            "Properties": {
                "Groups": [
                    { "Ref": "IAMGroupDynamicDNS" }
                ]
            }
        },
        "IAMGroupDynamicDNS": {
            "Type": "AWS::IAM::Group",
            "Properties": {
                "Policies": [ {
                    "PolicyName" : "onlyallowtoupdatewooldrigecouk",
                    "PolicyDocument": {
                        "Statement" : [
                            {
                                "Effect":"Allow",
                                "Action":[
                                    "route53:ChangeResourceRecordSets",
                                    "route53:GetChange",
                                    "route53:ListResourceRecordSets",
                                    "route53:GetHostedZone"
                                ],
                                "Resource":"arn:aws:route53:::hostedzone/Z1VIBQX07I3Y3K"
                            },
                            {
                                "Effect":"Allow",
                                "Action":[ "route53:GetChange" ],
                                "Resource":"arn:aws:route53:::change/*"
                            }
                        ]
                    }
                } ]
            }
        },
        "WwwWoolieCoUkWerckerDeployUser": {
            "Type": "AWS::IAM::User",
            "Properties": {
                "Groups": [
                    { "Ref": "WwwWoolieCoUkBucketReadWriteGroup" }
                ]
            }
        },
        "WwwOnmyplateCoUkWerckerDeployUser": {
            "Type": "AWS::IAM::User",
            "Properties": {
                "Groups": [
                    { "Ref": "WwwOnmyplateCoUkBucketReadWriteGroup" }
                ]
            }
        },
        "WwwKempstonnurseriesCoUkWerckerDeployUser": {
            "Type": "AWS::IAM::User",
            "Properties": {
                "Groups": [
                    { "Ref": "WwwKempstonnurseriesCoUkBucketReadWriteGroup" }
                ]
            }
        },
        "WwwBrignellbookbindersComWerckerDeployUser": {
            "Type": "AWS::IAM::User",
            "Properties": {
                "Groups": [
                    { "Ref": "WwwBrignellbookbindersComBucketReadWriteGroup" }
                ]
            }
        },
        "WoolieCoUkCloudFrontCDN": {
            "Type": "AWS::CloudFront::Distribution",
            "Properties": {
                "DistributionConfig": {
                    "Enabled": "true",
                    "Aliases": [ "woolie.co.uk" ],
                    "Origins": [
                        {
                            "DomainName": "woolie.co.uk.s3-website-eu-west-1.amazonaws.com",
                            "Id": "woolie.co.uk",
                            "CustomOriginConfig": {
                                "OriginProtocolPolicy": "http-only"
                            }
                        }
                    ],
                    "DefaultCacheBehavior": {
                        "Compress": true,
                        "TargetOriginId": "woolie.co.uk",
                        "ForwardedValues": {
                            "QueryString": "false",
                            "Cookies": {
                                "Forward": "none"
                            }
                        },
                        "ViewerProtocolPolicy": "redirect-to-https"
                    },
                    "PriceClass": "PriceClass_100",
                    "ViewerCertificate": {
                        "AcmCertificateArn": "arn:aws:acm:us-east-1:607705815226:certificate/0d32756a-dace-4a28-9b0b-d961ee79970b",
                        "SslSupportMethod": "sni-only"
                    }
                }
            },
            "DependsOn": [
                "WoolieCoUkRedirectBucket"
            ]
        },
        "WwwWoolieCoUkCloudFrontCDN": {
            "Type": "AWS::CloudFront::Distribution",
            "Properties": {
                "DistributionConfig": {
                    "Enabled": "true",
                    "Aliases": [ "www.woolie.co.uk" ],
                    "DefaultRootObject": "index.html",
                    "Origins": [
                        {
                            "DomainName": "www.woolie.co.uk.s3-website-eu-west-1.amazonaws.com",
                            "Id": "www.woolie.co.uk",
                            "CustomOriginConfig": {
                                "OriginProtocolPolicy": "http-only"
                            }
                        }
                    ],
                    "DefaultCacheBehavior": {
                        "Compress": true,
                        "TargetOriginId": "www.woolie.co.uk",
                        "ForwardedValues": {
                            "QueryString": "false",
                            "Cookies": {
                                "Forward": "none"
                            }
                        },
                        "ViewerProtocolPolicy": "redirect-to-https"
                    },
                    "PriceClass": "PriceClass_100",
                    "ViewerCertificate": {
                        "AcmCertificateArn": "arn:aws:acm:us-east-1:607705815226:certificate/0d32756a-dace-4a28-9b0b-d961ee79970b",
                        "SslSupportMethod": "sni-only"
                    }
                }
            },
            "DependsOn": [
                "WwwWoolieCoUkWebsiteBucket"
            ]
        },
        "WwwOnmyplateCoUkCloudFrontCDN": {
            "Type": "AWS::CloudFront::Distribution",
            "Properties": {
                "DistributionConfig": {
                    "Aliases": [ "www.onmyplate.co.uk" ],
                    "Origins": [
                        {
                            "DomainName": "www.onmyplate.co.uk.s3-website-eu-west-1.amazonaws.com",
                            "Id": "www.onmyplate.co.uk",
                            "CustomOriginConfig": {
                                "OriginProtocolPolicy": "http-only"
                            }
                        }
                    ],
                    "DefaultCacheBehavior": {
                        "TargetOriginId": "www.onmyplate.co.uk",
                        "ForwardedValues": {
                            "QueryString": false
                        },
                        "ViewerProtocolPolicy": "allow-all"
                    },
                    "Enabled": "true"
                }
            }
        },
        "KempstonnurseriesCoUkCloudFrontCDN": {
            "Type": "AWS::CloudFront::Distribution",
            "Properties": {
                "DistributionConfig": {
                    "Enabled": "true",
                    "Aliases": [ "kempstonnurseries.co.uk" ],
                    "Origins": [
                        {
                            "DomainName": "kempstonnurseries.co.uk.s3-website-eu-west-1.amazonaws.com",
                            "Id": "kempstonnurseries.co.uk",
                            "CustomOriginConfig": {
                                "OriginProtocolPolicy": "http-only"
                            }
                        }
                    ],
                    "DefaultCacheBehavior": {
                        "Compress": true,
                        "TargetOriginId": "kempstonnurseries.co.uk",
                        "ForwardedValues": {
                            "QueryString": "false",
                            "Cookies": {
                                "Forward": "none"
                            }
                        },
                        "ViewerProtocolPolicy": "redirect-to-https"
                    },
                    "PriceClass": "PriceClass_100",
                    "ViewerCertificate": {
                        "AcmCertificateArn": "arn:aws:acm:us-east-1:607705815226:certificate/99b344c9-6ed5-4c51-8443-1361b8def44a",
                        "SslSupportMethod": "sni-only"
                    }
                }
            },
            "DependsOn": [
                "KempstonnurseriesCoUkRedirectBucket"
            ]
        },
        "WwwKempstonnurseriesCoUkCloudFrontCDN": {
            "Type": "AWS::CloudFront::Distribution",
            "Properties": {
                "DistributionConfig": {
                    "Enabled": "true",
                    "Aliases": [ "www.kempstonnurseries.co.uk" ],
                    "DefaultRootObject": "index.html",
                    "Origins": [
                        {
                            "DomainName": "www.kempstonnurseries.co.uk.s3-website-eu-west-1.amazonaws.com",
                            "Id": "www.kempstonnurseries.co.uk",
                            "CustomOriginConfig": {
                                "OriginProtocolPolicy": "http-only"
                            }
                        }
                    ],
                    "DefaultCacheBehavior": {
                        "Compress": true,
                        "TargetOriginId": "www.kempstonnurseries.co.uk",
                        "ForwardedValues": {
                            "QueryString": "false",
                            "Cookies": {
                                "Forward": "none"
                            }
                        },
                        "ViewerProtocolPolicy": "redirect-to-https"
                    },
                    "PriceClass": "PriceClass_100",
                    "ViewerCertificate": {
                        "AcmCertificateArn": "arn:aws:acm:us-east-1:607705815226:certificate/99b344c9-6ed5-4c51-8443-1361b8def44a",
                        "SslSupportMethod": "sni-only"
                    }
                }
            },
            "DependsOn": [
                "WwwKempstonnurseriesCoUkWebsiteBucket"
            ]
        },
        "WwwBrignellbookbindersComCloudFrontCDN": {
            "Type": "AWS::CloudFront::Distribution",
            "Properties": {
                "DistributionConfig": {
                    "Aliases": [ "www.brignellbookbinders.com" ],
                    "Origins": [
                        {
                            "DomainName": "www.brignellbookbinders.com.s3-website-eu-west-1.amazonaws.com",
                            "Id": "www.brignellbookbinders.com",
                            "CustomOriginConfig": {
                                "OriginProtocolPolicy": "http-only"
                            }
                        }
                    ],
                    "DefaultCacheBehavior": {
                        "TargetOriginId": "www.brignellbookbinders.com",
                        "ForwardedValues": {
                            "QueryString": false
                        },
                        "ViewerProtocolPolicy": "allow-all"
                    },
                    "Enabled": "true"
                }
            }
        },
       "StagingWebsiteBucket" : {
            "Type" : "AWS::S3::Bucket",
            "Properties" : {
                "AccessControl" : "PublicRead",
                "BucketName" : "wooliestaging",
                "WebsiteConfiguration" : {
                    "IndexDocument" : "index.html"
                }
            },
            "DeletionPolicy" : "Retain"
        },
       "WwwWoolieCoUkWebsiteBucket" : {
            "Type" : "AWS::S3::Bucket",
            "Properties" : {
                "AccessControl" : "PublicRead",
                "BucketName" : "www.woolie.co.uk",
                "WebsiteConfiguration" : {
                    "IndexDocument" : "index.html",
                    "ErrorDocument" : "404/index.html"
                }
            },
            "DeletionPolicy" : "Delete"
        },
       "WwwOnmyplateCoUkWebsiteBucket" : {
            "Type" : "AWS::S3::Bucket",
            "Properties" : {
                "AccessControl" : "PublicRead",
                "BucketName" : "www.onmyplate.co.uk",
                "WebsiteConfiguration" : {
                    "IndexDocument" : "index.html"
                }
            },
            "DeletionPolicy" : "Retain"
        },
       "WwwKempstonnurseriesCoUkWebsiteBucket" : {
            "Type" : "AWS::S3::Bucket",
            "Properties" : {
                "AccessControl" : "PublicRead",
                "BucketName" : "www.kempstonnurseries.co.uk",
                "WebsiteConfiguration" : {
                    "IndexDocument" : "index.html",
                    "ErrorDocument" : "404/index.html"
                }
            },
            "DeletionPolicy" : "Delete"
        },
       "WwwBrignellbookbindersComWebsiteBucket" : {
            "Type" : "AWS::S3::Bucket",
            "Properties" : {
                "AccessControl" : "PublicRead",
                "BucketName" : "www.brignellbookbinders.com",
                "WebsiteConfiguration" : {
                    "IndexDocument" : "index.html"
                }
            },
            "DeletionPolicy" : "Retain"
        },

        "WwwWooldrigeCoUkWebsiteBucket" : {
            "Type" : "AWS::S3::Bucket",
            "Properties" : {
                "AccessControl" : "PublicRead",
                "BucketName" : "www.wooldrige.co.uk",
                "WebsiteConfiguration" : {
                    "IndexDocument" : "index.html",
                    "ErrorDocument" : "error.html"
                }
            },
            "DeletionPolicy" : "Delete"
        },
       "WooldrigeCoUkRedirectBucket" : {
            "Type" : "AWS::S3::Bucket",
            "Properties" : {
                "AccessControl" : "PublicRead",
                "BucketName" : "wooldrige.co.uk",
                "WebsiteConfiguration" : {
                    "RedirectAllRequestsTo": {
                        "HostName": "www.wooldrige.co.uk"
                    }
                }
            },
            "DeletionPolicy" : "Delete"
        },
        "WooldrigeCoUkCloudFrontCDN": {
            "Type": "AWS::CloudFront::Distribution",
            "Properties": {
                "DistributionConfig": {
                    "Enabled": "true",
                    "Aliases": [ "wooldrige.co.uk" ],
                    "Origins": [
                        {
                            "DomainName": "wooldrige.co.uk.s3-website-eu-west-1.amazonaws.com",
                            "Id": "wooldrige.co.uk",
                            "CustomOriginConfig": {
                                "OriginProtocolPolicy": "http-only"
                            }
                        }
                    ],
                    "DefaultCacheBehavior": {
                        "Compress": true,
                        "TargetOriginId": "wooldrige.co.uk",
                        "ForwardedValues": {
                            "QueryString": "false",
                            "Cookies": {
                                "Forward": "none"
                            }
                        },
                        "ViewerProtocolPolicy": "redirect-to-https"
                    },
                    "PriceClass": "PriceClass_100",
                    "ViewerCertificate": {
                        "AcmCertificateArn": "arn:aws:acm:us-east-1:607705815226:certificate/570a62d9-bca9-4153-9ce2-13d847b41d90",
                        "SslSupportMethod": "sni-only"
                    }
                }
            },
            "DependsOn": [
                "WooldrigeCoUkRedirectBucket"
            ]
        },
        "WwwWooldrigeCoUkCloudFrontCDN": {
            "Type": "AWS::CloudFront::Distribution",
            "Properties": {
                "DistributionConfig": {
                    "Enabled": "true",
                    "Aliases": [ "www.wooldrige.co.uk" ],
                    "DefaultRootObject": "index.html",
                    "Origins": [
                        {
                            "DomainName": "www.wooldrige.co.uk.s3-website-eu-west-1.amazonaws.com",
                            "Id": "www.wooldrige.co.uk",
                            "CustomOriginConfig": {
                                "OriginProtocolPolicy": "http-only"
                            }
                        }
                    ],
                    "DefaultCacheBehavior": {
                        "Compress": true,
                        "TargetOriginId": "www.wooldrige.co.uk",
                        "ForwardedValues": {
                            "QueryString": "false",
                            "Cookies": {
                                "Forward": "none"
                            }
                        },
                        "ViewerProtocolPolicy": "redirect-to-https"
                    },
                    "PriceClass": "PriceClass_100",
                    "ViewerCertificate": {
                        "AcmCertificateArn": "arn:aws:acm:us-east-1:607705815226:certificate/570a62d9-bca9-4153-9ce2-13d847b41d90",
                        "SslSupportMethod": "sni-only"
                    }
                }
            },
            "DependsOn": [
                "WwwWooldrigeCoUkWebsiteBucket"
            ]
        },
       "WoolieCoUkRedirectBucket" : {
            "Type" : "AWS::S3::Bucket",
            "Properties" : {
                "AccessControl" : "PublicRead",
                "BucketName" : "woolie.co.uk",
                "WebsiteConfiguration" : {
                    "RedirectAllRequestsTo": {
                        "HostName": "www.woolie.co.uk"
                    }
                }
            },
            "DeletionPolicy" : "Delete"
        },
       "OnmyplateCoUkRedirectBucket" : {
            "Type" : "AWS::S3::Bucket",
            "Properties" : {
                "AccessControl" : "PublicRead",
                "BucketName" : "onmyplate.co.uk"
            },
            "DeletionPolicy" : "Retain"
        },
       "KempstonnurseriesCoUkRedirectBucket" : {
            "Type" : "AWS::S3::Bucket",
            "Properties" : {
                "AccessControl" : "PublicRead",
                "BucketName" : "kempstonnurseries.co.uk",
                "WebsiteConfiguration" : {
                    "RedirectAllRequestsTo": {
                        "HostName": "www.kempstonnurseries.co.uk"
                    }
                }
            },
            "DeletionPolicy" : "Delete"
        },
       "BrignellbookbindersComRedirectBucket" : {
            "Type" : "AWS::S3::Bucket",
            "Properties" : {
                "AccessControl" : "PublicRead",
                "BucketName" : "brignellbookbinders.com"
            },
            "DeletionPolicy" : "Retain"
        },
        "WwwWoolieCoUkBucketReadWriteGroup": {
            "Type": "AWS::IAM::Group",
            "Properties": {
                "Policies": [ {
                    "PolicyName" : "AllowReadWriteAccessToWwwWoolieCoUkBucket",
                    "PolicyDocument": {
                        "Statement" : [
                            {
                                "Effect":"Allow",
                                "Action":[
                                    "s3:ListBucket",
                                    "s3:GetObject",
                                    "s3:PutObject",
                                    "s3:GetObjectAcl",
                                    "s3:PutObjectAcl",
                                    "s3:DeleteObject",
                                    "s3:ListMultipartUploadParts"
                                ],
                                "Resource" : { "Fn::Join" : [
                                    "", [ "arn:aws:s3:::", { "Ref" : "WwwWoolieCoUkWebsiteBucket" } , "/*" ]
                                ] }
                            }
                        ]
                    }
                } ]
            }
        },
        "WwwOnmyplateCoUkBucketReadWriteGroup": {
            "Type": "AWS::IAM::Group",
            "Properties": {
                "Policies": [ {
                    "PolicyName" : "AllowReadWriteAccessToWwwOnmyplateCoUkBucket",
                    "PolicyDocument": {
                        "Statement" : [
                            {
                                "Effect":"Allow",
                                "Action":[
                                    "s3:ListBucket",
                                    "s3:GetObject",
                                    "s3:PutObject",
                                    "s3:GetObjectAcl",
                                    "s3:PutObjectAcl",
                                    "s3:DeleteObject",
                                    "s3:ListMultipartUploadParts"
                                ],
                                "Resource" : { "Fn::Join" : [
                                    "", [ "arn:aws:s3:::", { "Ref" : "WwwOnmyplateCoUkWebsiteBucket" } , "/*" ]
                                ] }
                            }
                        ]
                    }
                } ]
            }
        },
        "WwwKempstonnurseriesCoUkBucketReadWriteGroup": {
            "Type": "AWS::IAM::Group",
            "Properties": {
                "Policies": [ {
                    "PolicyName" : "AllowReadWriteAccessToWwwKempstonnurseriesCoUkBucket",
                    "PolicyDocument": {
                        "Statement" : [
                            {
                                "Effect":"Allow",
                                "Action":[
                                    "s3:ListBucket",
                                    "s3:GetObject",
                                    "s3:PutObject",
                                    "s3:GetObjectAcl",
                                    "s3:PutObjectAcl",
                                    "s3:DeleteObject",
                                    "s3:ListMultipartUploadParts"
                                ],
                                "Resource" : { "Fn::Join" : [
                                    "", [ "arn:aws:s3:::", { "Ref" : "WwwKempstonnurseriesCoUkWebsiteBucket" } , "/*" ]
                                ] }
                            }
                        ]
                    }
                } ]
            }
        },
        "WwwBrignellbookbindersComBucketReadWriteGroup": {
            "Type": "AWS::IAM::Group",
            "Properties": {
                "Policies": [ {
                    "PolicyName" : "AllowReadWriteAccessToWwwBrignellbookbindersComBucket",
                    "PolicyDocument": {
                        "Statement" : [
                            {
                                "Effect":"Allow",
                                "Action":[
                                    "s3:ListBucket",
                                    "s3:GetObject",
                                    "s3:PutObject",
                                    "s3:GetObjectAcl",
                                    "s3:PutObjectAcl",
                                    "s3:DeleteObject",
                                    "s3:ListMultipartUploadParts"
                                ],
                                "Resource" : { "Fn::Join" : [
                                    "", [ "arn:aws:s3:::", { "Ref" : "WwwBrignellbookbindersComWebsiteBucket" } , "/*" ]
                                ] }
                            }
                        ]
                    }
                } ]
            }
        }
    }
}


